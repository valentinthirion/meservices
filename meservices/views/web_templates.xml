<?xml version="1.0" encoding="utf-8"?>

<openerp>
    <data>
        <template id="snippet_meservices" name="ME Services Contact Form snippet">
            <section class="snippet_testimonial">
                <div class="container text-center">
                    <div class="row">
                        <h4 class="page-header mt-16">Contact Form</h4>
                        <form method="POST" action="/contactform" enctype="multipart/form-data">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                            <div class="col-md-6" style="clear: left;">
                                <input type="text" id="contact_name" name="contact_name" class="form-control" placeholder="Name" required="This field is required"/>
                            </div>
                            <div class="col-md-6" style="clear: left;">
                                <input type="text" id="mobile" name="mobile" class="form-control" placeholder="Mobile" required="This field is required"/>
                            </div>
                            <div class="col-md-4" style="clear: left;">
                                <input type="text" id="street" name="street" class="form-control" placeholder="Address" required="This field is required"/>
                            </div>
                            <div class="col-md-6" style="clear: left;">
                                <input type="text" id="city" name="city" class="form-control" placeholder="City" required="This field is required"/>
                            </div>
                            <div class="col-md-2" style="clear: left;">
                                <input type="text" id="zip" name="zip" class="form-control" placeholder="ZIP" required="This field is required"/>
                            </div>

                            <div class="col-md-4" style="clear: left;">
                                <strong for='insect_type'>Insect type</strong>
                                <select id="insect_type" name="insect_type" class="form-control" required="This field is required">
                                    <option value="wasps">Wasps</option>
                                    <option value="hornets">Hornets</option>
                                    <option value="others">Others</option>
                                </select>
                            </div>
                            <div class="col-md-4" style="clear: left;">
                                <strong for='nest_location'>Nest situation</strong>
                                <select id="nest_location" name="nest_location" class="form-control" required="This field is required">
                                    <option value="inside">Inside</option>
                                    <option value="outside_floor">Outside on the floor</option>
                                    <option value="outside_high">Outside high</option>
                                </select>
                            </div>
                            <div class="col-md-4" style="clear: left;">
                                <textarea id="details" name="details" class="form-control" placeholder="Enter here details about the nest location..."/>
                            </div>
                            <div class="col-md-2" style="clear: left;">
                                <strong for='already_came'>Already came</strong>
                                <input type="checkbox" id="already_came" name="already_came" />
                            </div>
                            <div class="col-md-3" style="clear: left; display: none;" id="already_came_date_block">
                                <strong for='already_came_date'>If already came, specify the date</strong>
                                <input type="date" id="already_came_date" name="already_came_date" class="form-control o_website_form_input o_website_form_date"/>
                            </div>
                            <div class="col-md-6" style="clear: left;">
                                <textarea id="description" name="description" class="form-control" placeholder="Give here every information that could help us prepare the intervention..."/>
                            </div>
                            <div class="col-md-1" style="clear: left;">
                                <input type="submit" value="Send" class="btn btn-primary btn-lg"/>
                            </div>

                            <script>
                <![CDATA[
odoo.define('meservices.contact_form', ['web.ajax'], function (require) {
    "use strict";
    const checkbox = document.getElementById('already_came');
    const already_came_date = document.getElementById('already_came_date_block');

    checkbox.addEventListener('change', (event) => {
      if (checkbox.checked) {
        already_came_date.style.display = 'inline';
      } else {
        already_came_date.style.display = 'none';
      }
    });
});
            ]]>
                            </script>
                        </form>
                    </div>
                </div>
            </section>
        </template>

        <template id="contact_form_sent" name="Contact form sent">
            <t t-call="website.layout">
                <section t-attf-class="container mt8" id="contact_form_sent">
                    <div class="row">
                        <div class="col-sm-4">
                            Thanks for sending us your request, we will be back to you soon.
                        </div>
                    </div>
                </section>
            </t>
        </template>

        <template id="place_into_bar" inherit_id="website.snippets" name="Place into bar">
            <xpath expr="//div[@id='snippet_structure']/div[@class='o_panel_body']" position="inside">
                <t t-snippet="meservices.snippet_meservices" t-thumbnail="/theme_tutorial/static/src/img/ui/snippet_thumb.jpg"/>
            </xpath>
        </template>
    </data>
</openerp>